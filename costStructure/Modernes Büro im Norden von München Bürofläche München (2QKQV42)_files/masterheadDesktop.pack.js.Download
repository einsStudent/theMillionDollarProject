(function(){Object.extend=function(a,c,d){for(var b in c){if(d==false&&a[b]!=null)continue;a[b]=c[b]}return a};if(!String.Format)String.Format=function(){for(var b=arguments[0],d=arguments.length-1,c=null,a=d;a--;){c=new RegExp("\\{"+a+"\\}","gm");b=b.replace(c,arguments[a+1])}return b};if(!String.isNullOrEmpty)String.isNullOrEmpty=function(a){return typeof a=="undefined"||a==null||a.replace(" ","")==""?true:false};if(!String.prototype.startsWith)String.prototype.startsWith=function(b,a){a=a||0;return this.indexOf(b,a)===a};if(typeof String.prototype.endsWith!=="function")String.prototype.endsWith=function(a){return this.indexOf(a,this.length-a.length)!==-1};if(typeof String.prototype.trim!=="function")String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};Array.prototype.indexOf=function(c){var b=this.length,a=Number(arguments[1])||0;a=a<0?Math.ceil(a):Math.floor(a);if(a<0)a+=b;for(;a<b;a++)if(a in this&&this[a]===c)return a;return-1};Array.prototype.indexOfAny=function(){for(var d=this.length,a=0,c=arguments.length,b=0;a<d;a++){b=0;for(;b<c;++b)if(a in this&&this[a]===arguments[b])return a}return-1};Array.prototype.remove=function(b){for(var c=this.length,a=0;a<c;a++)a in this&&this[a]===b&&this.splice(a,1)};Array.prototype.add=function(b){for(var c=b.length,a=0;a<c;a++)this.push(b[a])};Array.prototype.equals=function(b){if(b.length!==this.length)return false;for(var a=0;a<this.length;a++)if(this[a]!=b[a])return false;return true};Element.prototype.hasClass=function(a){return this.className&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(this.className)};HTMLAnchorElement.prototype.TriggerClick=function(){if(this.click)this.click();else if(this.fireEvent)this.fireEvent("onclick");else if(document.createEvent){var a=null;try{a=new MouseEvent("click",{view:window,bubbles:true,cancelable:false})}catch(b){a=document.createEvent("MouseEvent");a.initMouseEvent("click",true,true,window,0,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null)}this.dispatchEvent(a)}};HTMLImageElement.prototype.resize=function(){var a=this,d=a.parentNode;if(!d)return;a.style.display="none";while(d&&!(d instanceof HTMLDivElement))d=d.parentNode;var g=d.clientWidth,e=d.clientHeight,c=a.naturalWidth,b=a.naturalHeight,j=0,k=0,h=0,f=false;if(typeof c==="undefined"||typeof b==="undefined"){var i=new Image;i.src=a.src;c=i.width;b=i.height}k=c/g;j=c/b;if(b/k<e&&j<2)f=true;else if(j<.5)f=true;if(f){a.style.width="auto";a.style.height=e+"px";c=c/(b/e);b=e;h=(c-g)/-2}else{a.style.width=g+"px";a.style.height="auto";c=g;b=b/k;h=(b-e)/-2}a.style["margin"+(f?"Left":"Top")]=h+"px";a.style.display="";return this}})();IwAG=IwAG||{};IwAG.Base=function(e,b,c){var a=null,d=function(a,b,c){var e=[],A=function(b){if(!b)return;for(var d=b.eo.length,e=null,c=d;c--;)a("[id^="+b.eo[c].i+"]").each(function(d,a){a.innerHTML=b.eo[c].v})},y=function(l,j,k,a,e,g){var m=a.substr(0,1),c="";if(m=="#")a=a.replace("#","/");if(l==0)c="http://";else if(l==2)c="https://";else c="http://www.";if(!j||!k)location.href="";else{var i=c+j+"."+k+encodeURI(a).replace(/:/g,"%3a").replace(/#/g,"%23"),f="",h="",d=null;if(e!=undefined&&e===true)f="location=yes,resizable=yes,width=800,height=600,left=100,top=200,menubar=yes,scrollbars=yes,toolbar=yes";if(g&&g===true)h="_blank";try{d=b.open(i,h,f);d&&d.focus()}catch(n){b.location.href=i}}return false},m=function(d,e,g){for(var h=c.location.protocol+"//"+c.location.host,f="",a="",b=0,i=d.length;b<i;b++)f+="/"+d[b];a=h+f;if(e)a+="."+e;if(g)a+="?"+g;location.href=encodeURI(a);return false},q=function(h,d,e,g,f){var a="http:";if(typeof f!=="undefined")a=f;a+="//";if(b.location.host.indexOf("local")>-1)a+="local-";if(b.location.host.indexOf("dev")>-1)a+="dev.";if(b.location.host.indexOf("preview")>-1)a+="preview.";if(a==="http://")a+="www.";a+=h;for(var c=0;c<d.length;c++)a+="/"+d[c];if(typeof e!=="undefined")a+="."+e;if(typeof g!=="undefined")a+="?"+g;b.location.href=encodeURI(a);return false},t=function(j,h){var f="",a=j||b.location.href;if(a.indexOf("?")>-1)for(var g=a.substr(a.indexOf("?")+1).toLowerCase(),e=g.split("&"),c=0,i=e.length,d=null;c<i;c++){d=e[c].split("=");if(d[0]==h){f=d[1];break}}return unescape(f)},n=function(i,f,h,e,d,c){var a="",g=null;f&&(a+="height="+f);h&&(a+=",width="+h);e&&(a+=",scrollbars="+e);d&&(a+=",resizable="+d);if(!a)a="height=300,width=300";if(!c)c="popup";try{g=b.open(i,c,a);g.focus()}catch(j){b.location.href=i}},o=function(c){var d=null;c=a.extend({modalID:null,onOpen:null,onClose:null,setFocus:true,closeClass:"close",overlayclose:true,persist:false,appendTo:"body"},c);if(!c.modalID)return;if(a("#IwAGMain").length)c.appendTo="#IwAGMain";a(c.modalID).modal({appendTo:c.appendTo,closeClass:c.closeClass,persist:c.persist,closeHTML:"",opacity:70,overlayCss:{backgroundColor:"#000"},zIndex:10001,overlayClose:c.overlayclose,onShow:function(e){if(c.onOpen){if(!a.isFunction(c.onOpen))c.onOpen=new Function(c.onOpen);c.onOpen.apply(this)}a("#feedback").hide();d=a("html,body").css("overflow");a("html,body").css("overflow","hidden");e.container[0].offsetTop>b.innerHeight&&a(c.modalID).parents(".simplemodal-container").css("top",b.innerHeight/2-a(c.modalID).parent().parent().height()/2+"px")},onClose:function(){if(c.onClose){if(!a.isFunction(c.onClose))c.onClose=new Function(c.onClose);c.onClose.apply(this)}a.modal.close();a("#feedback").show();a("html,body").css("overflow",d)}});c.setFocus&&!g()&&a(c.modalID).find("input:text:visible").eq(0).focus()},f=null,l=function(d){var h='<div class="remodal {3}" data-remodal-id="modal">                                             <div class="modal-content">                                                 <div class="modal-header">                                                     {0}                                                     <h3>{1}</h3>                                                 </div>                                                 <div class="content">                                                 </div>                                                 <div class="modal-footer">                                                     {2}                                                 </div>                                             </div>                                         </div>',e='<button data-remodal-action="close" class="btn_close icon-close iw_right"></button>',g=a('<div id="modalOrigPosition"></div>'),i='<div class="remodal-bg"></div>',b=null,c=null;settings=a.extend({content:null,headline:"",addCloseButton:true,footer:"",widthClass:"",onOpening:null,onOpened:null,onClosing:null,onClosed:null,closeOnConfirm:true,closeOnCancel:true,closeOnEscape:true,closeOnOutsideClick:true,hashTracking:false,modifier:""},d);settings.content=d.content instanceof a?d.content:a(d.content);settings.content.after(g);if(!settings.content.length)settings.content=a("<div>"+d.content+"</div>");if(!settings.addCloseButton)e="";f&&f.destroy();b=a(String.Format(h,e,settings.headline,settings.footer,settings.widthClass));b.find(".content").append(settings.content);!a(".remodal-bg").length&&a("body").append(i);c=b.remodal(settings);b.on("opening",function(a){if(settings.onOpening!==null&&typeof settings.onOpening==="function")settings.onOpening(a,b,settings.content)});b.on("opend",function(a){if(settings.onOpened!==null&&typeof settings.onOpened==="function")settings.onOpened(a,b,settings.content)});b.on("closing",function(a){if(settings.onClosing!==null&&typeof settings.onClosing==="function")settings.onClosing(a,b,settings.content)});b.on("closed",function(a){g.replaceWith(settings.content);if(settings.onClosed!==null&&typeof settings.onClosed==="function")settings.onClosed(a,b,settings.content);c.destroy()});c.open();f=c;return c},B=function(c,f){if(f){a.cancelEvent(c);var d="",e="";if(c.target.href.indexOf("ratgeber.immowelt.")>-1||c.target.href.indexOf("news.immowelt.")>-1)if(c.target!==undefined){d=IwAG.Vars.IWhost+(f+"/"+c.target.pathname).replace(/\/\//g,"/");if(c.target.attributes.hasOwnProperty("target"))e=c.target.attributes.target.value}else if(c.srcElement!==undefined){d=IwAG.Vars.IWhost+(f+"/"+c.srcElement.pathname).replace(/\/\//g,"/");if(c.srcElement.attributes.hasOwnProperty("target"))e=c.srcElement.attributes.target.value}if(d)if(e)b.open(d,e);else b.location.href=d}return false},s=function(b){var e={DomElementId:null,data:{},action:"",controller:"",area:"",callbackFunc:null},c="";b=a.extend({},e,b||{});if(b.controller)c="/"+b.controller;c+="/"+b.action.replace(/^\//,"");if(b.area)c="/"+b.area+c;a.ajax({type:"GET",cache:false,url:c,success:function(f){var c=a(f).filter("[data-result=async]");if(!c.length)c=a(f).find("[data-result=async]").first();if(c.length){var g=a("#"+b.DomElementId),e=g.filter("[data-result=async]");if(!e.length)e=g.find("[data-result=async]").first();e.replaceWith(c)}d();typeof b.callbackFunc=="function"&&b.callbackFunc(c,e,f)},data:b.data})},r=function(c){var f={formId:null,action:"",controller:"",area:"",extentionFunc:null,onError:null,callback:null},e="";c=a.extend({},f,c||{});if(c.controller)e="/"+c.controller;e+="/"+c.action.replace(/^\//,"");if(c.area)e="/"+c.area+e;a.ajax({type:"POST",cache:false,url:e,success:function(e){var h=false;if(e.redirectUrl!=undefined){b.location.href=e.redirectUrl;h=true}else if(typeof c.extentionFunc=="function")h=c.extentionFunc(e);if(!h){var f=a(e).filter("[data-result=async]");if(!f.length)f=a(e).find("[data-result=async]").first();if(f.length){var i=a("#"+c.formId),g=i.filter("[data-result=async]");if(!g.length)g=i.find("[data-result=async]").first();g.replaceWith(f)}d();typeof c.callback=="function"&&c.callback(f,g,e)}a.validator&&a.validator.unobtrusive.parse("#"+c.formId)},error:function(a){if(typeof c.onError=="function")c.onError(a)},data:a("#"+c.formId).serialize()})},p=function(a){a(false);e.push(a)},d=function(){for(var a=0,b=e.length;a<b;a++)e[a](true)},h=function(){typeof utag!=="undefined"&&utag.link(IwAG.$(this).data("tealium"))},j=function(){a(".js-tealium").off("click",h).on("click",h)},g=function(){return navigator.userAgent.match(/iPad|iPhone|iPod/i)!=null&&navigator.userAgent.match(/Safari/i)!=null},w=function(){return a(b).width()<=640},v=function(){return a(b).width()>640&&a(b).width()<=980},u=function(){return a(b).width()>980},i=function(){a(".js-acceptCookiePolicy").click(function(){a.ajax({type:"POST",url:IwAG.Vars.IWhost+"_common/userprofileclient/userprofileclient.asmx/SetPrivacyCookieAccepted",contentType:"application/json; charset=utf-8",dataType:"json",data:"{ accepted: '"+(a(this).data().value?true:false).toString()+"' }",success:a("#cookiebanner").remove()});return false})},k=function(){try{c.cookie="iwScreenRes="+c.documentElement.clientWidth+","+c.documentElement.clientHeight+"; path=/;"}catch(a){if(a.name!=="SecurityError")throw a;}},z=function(c){var b=0;if(a("#js-menu-nav").hasClass("position_fixed"))b=70,offsetTop=!c.offset()?0:c.offset().top;a("html, body").animate({scrollTop:offsetTop-b},"slow")},x=function(){a("html, body").animate({scrollTop:0},"slow")};return{setData:function(a){return A(a)},goToLink:function(f,d,e,c,a,b){return y(f,d,e,c,a,b)},goToInternalLink:function(a,b,c){return m(a,b,c)},goToDomainLink:function(b,a,c,e,d){return q(b,a,c,e,d)},removeURLParam:function(){var b="",g=arguments[0];if(g.indexOf("?")>-1){for(var l=g.substr(g.indexOf("?")+1),d=l.split("&"),a=[],f=[],h=null,e=false,j=1,i=arguments.length;j<i;j++)a.push(arguments[j].toLowerCase());for(var c=0,i=d.length;c<i;c++){h=d[c].split("=")[0];if(typeof a.indexOf!=="undefined")a.indexOf(h.toLowerCase())<0&&f.push(d[c]);else{e=false;for(var k=0,i=a.length;k<i;k++)if(a[k]==h.toLowerCase()){e=true;break}!e&&f.push(d[c])}}b=f.join("&");if(b.indexOf("?")<0)b="?"+b}return b},getURLParam:function(b,a){return t(b,a)},showClassicPopUp:function(f,c,d,b,a,e){return n(f,c,d,b,a,e)},openModalDialog:function(a){return o(a)},openNewModalDialog:function(a){return l(a)},route:function(b,a){return B(b,a)},gaOptOut:function(){c.cookie="iwGaOptOut=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/";alert("Der Einsatz von Google Analytics wurde für Ihr Endgerät unterbunden.")},initializeClickTracking:function(){return j()},isAppleMobileSafari:function(){return g()},isSDevice:function(){return w()},isMDevice:function(){return v()},isLDevice:function(){return u()},asyncHtmlGet:function(a){return s(a)},asyncFormPost:function(a){return r(a)},addAsyncLoaded:function(a){return p(a)},registerAcceptCookiePolicy:function(){return i()},executeAsyncLoaded:function(){return d()},scrollTo:function(a){return z(a)},SetScreenSizeCookie:function(){k()},scrollTop:function(){return x()}}};return{getInstance:function(){if(!a)a=new d(e,b,c);return a},setData:function(a){return this.getInstance().setData(a)},goToLink:function(f,d,e,c,a,b){return this.getInstance().goToLink(f,d,e,c,a,b)},goToInternalLink:function(a,b,c){return this.getInstance().goToInternalLink(a,b,c)},goToDomainLink:function(b,a,c,e,d){return this.getInstance().goToDomainLink(b,a,c,e,d)},hasURLParam:function(b,a){return this.getInstance().getURLParam(b,a)!=""},getURLParam:function(b,a){return this.getInstance().getURLParam(b,a)},showClassicPopUp:function(f,c,d,b,a,e){return this.getInstance().showClassicPopUp(f,c,d,b,a,e)},openModalDialog:function(a){return this.getInstance().openModalDialog(a)},route:function(b,a){return this.getInstance().route(b,a)},openMerkerList:function(){b.location=IwAG.Vars.IWhost+"immobilien/immomerker.aspx"},asyncHtmlGet:function(b,f,d,c,e,a){return this.getInstance().asyncHtmlGet({DomElementId:b,data:f,action:d,controller:c,area:e,callbackFunc:a})},asyncFormPost:function(d,c,b,e,a){return this.getInstance().asyncFormPost({formId:d,action:c,controller:b,area:e,extentionFunc:a})}}}(IwAG.$,window,document);(function(a,b,c){a.cancelEvent=function(a){if(a)if(a.preventDefault)a.preventDefault();else a.returnValue=false};a.FormatNumber=function(a,g,f,e){a+="";var b=a.indexOf(g),c="",d=/(\d+)(\d{3})/;if(b!=-1){c=f+a.substring(b+1,a.length);a=a.substring(0,b)}while(d.test(a))a=a.replace(d,"$1"+e+"$2");return a+c};a.fn.tooltip=function(g){var f={opacity:1,className:"tooltip",effect:"follow",offsetTop:0,offsetLeft:0},b=a.extend({},f,g),d=function(d,e,c,f){a("#calctooltip").remove();a('<div id="calctooltip" class="'+b.className+'"></div>').prependTo("body").hide();if(b.effect=="follow")a("."+b.className).offset({top:e+5+b.offsetTop,left:c+f-56+b.offsetLeft}).html(d);else a("."+b.className).css({top:e+b.offsetTop,left:c+b.offsetLeft}).html(d);b.effect=="toggle"&&a("."+b.className).mouseenter(function(){a(this).clearQueue().show()}).mouseleave(function(){a(this).remove()});a("#calctooltip").show()},e=function(){if(b.effect=="toggle")a("#calctooltip").delay("100").fadeOut("fast");else a("#calctooltip").remove()};this.each(function(){var f=a(this),g=this.title;if(f.attr("title")!=""){this.title="";f.hover(function(c){var a=f.offset();if(b.effect!="follow")d(g,a.top,a.left,0);else d(g,c.pageY,c.pageX,0)},function(){e()});a(c).scroll(function(){a("#calctooltip").remove()});b.effect=="follow"&&f.mousemove(function(b){a("#calctooltip").css({top:b.pageY+5,left:b.pageX-56})})}});return this};a.fn.ImageResize=function(f){var b={height:200,width:300};f&&typeof f!="string"&&a.extend(b,f);var e=a(this).get(0);if(e==null||e==NaN)return;var c=e.height,d=e.width,i=d/c,g=b.width/b.height;if(c>=b.height&&g>=i){var h=c/b.height;d=d/h;a(this).removeAttr("width").removeAttr("height").attr("width",d).attr("height",b.height).height(b.height).width(d)}else if(d>=b.width&&g<i){var h=d/b.width;c=c/h;a(this).removeAttr("width").removeAttr("height").attr("width",b.width).attr("height",c).width(b.width).height(c)}a(this).show();return this};a.fn.isOnScreen=function(){var c={top:a(b).scrollTop(),bottom:a(b).scrollTop()+a(b).height()},d={top:this.offset().top,bottom:this.offset().top+this.outerHeight()};return d.top<=c.bottom&&d.bottom>=c.top};a(function(a){a(".icon_info").tooltip();a(".button_dropdown").off().on("click",function(c){a.cancelEvent(c);var b=a(this).next("div.button_ewms_content");a("div.button_ewms_content").not(b).hide();if(b.css("display")=="none"){b.show();c.stopPropagation()}else b.hide()});a(".js_btn_dropdown ").off().on("click",function(c){a.cancelEvent(c);var b=a(this).next(".iw_dropdown ul");a(".iw_dropdown ul").not(b).hide();if(b.css("display")=="none"){b.show();c.stopPropagation()}else b.hide()});var d=IwAG.Base.getInstance(),e=function(){var b=a(this),c="active";if(b.hasClass(c))b.removeClass(c);else b.addClass(c)};a(c).on("click",function(){a("div.button_ewms_content").hide();a(".iw_dropdown ul").hide()}).on("click",function(c){var b=a(c.target);if(b.closest(".js-default-hidden").length>0||b.hasClass("js-show-action"))return;a(".js-default-hidden").addClass("inactive");a(".js-show-action").removeClass("current")});d.addAsyncLoaded(function(){a(".link_toggle").off("click",e).on("click",e);a("a").on("click",function(){a(this).blur()})});d.SetScreenSizeCookie();a(b).on("resize orientationchange",d.SetScreenSizeCookie);d.registerAcceptCookiePolicy();!JSON.stringify&&a.getScript("/_scripts/mvc/_plugin/json2.js");d.initializeClickTracking();if(b.location.hash==="#ihreMeinung"&&a("#formMeinungAbgeben").length){a('#formMeinungAbgeben input[type="submit"]').click();d.scrollTo(a(".feedback"))}})})(IwAG.$,window,document)