IwAG.NovomindChat=function(c){var a=null,b=function(a){var g="https://immowelt.novomind.com/iChatClient/iframe.html",i="https://immowelt.novomind.com/iChatClient_Support/iframe.html",c="",j="NovomindChat",b=null,f=null,h=null,d="",n=function(p,o){if(o)d=o;b=a(".nm-wrapper");f=a("#js-openNovomindChat");h=a('[data-animation="hide-layer"]');b.hide();c=p;a.fn.extend({animateCss:function(b){var c="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";a(this).addClass("animated "+b).one(c,function(){a(this).removeClass("animated "+b)})}});var j=m();if(j&&j.split("|").length>1)c=j.split("|")[1];if(j&&j.indexOf("open")===0){b.animateCss("bounceInUp");var n=i;if(c==="chat_sales")n=g;if(d!=="")n+="?adrguid="+d;b.fadeIn("slow");a(".nm-wrapper iframe").attr("src",n);e("open|"+c,10)}else if(!j&&c==="chat_sales")a("#js-openNovomindChat:visible").length>0&&setTimeout(function(){b.animateCss("bounceInUp");b.fadeIn("slow");n=g;if(d!=="")n+="?adrguid="+d;a(".nm-wrapper iframe").attr("src",n);e("open|"+c,10)},1e4);f.on("click",l);h.on("click",k)},l=function(h){a.cancelEvent(h);e("open|"+c,10);b.animateCss("bounceInUp");b.fadeIn("slow");var f=i;if(c==="chat_sales")f=g;if(d!=="")f+="?adrguid="+d;a(".nm-wrapper iframe").attr("src",f);return false},k=function(c){a.cancelEvent(c);e("close",3600);b.animateCss("bounceOutDown");b.fadeOut(1100);f.show()},e=function(e,d){var a=new Date;a.setTime(a.getTime()+d*6e4);var b=window.location.host.split(".");b.shift();var c=b.join(".");document.cookie=j+"="+e+";domain="+c+";expires="+a.toGMTString()+";path=/"},m=function(){for(var c=j+"=",d=document.cookie.split(";"),b=0;b<d.length;b++){var a=d[b];while(a.charAt(0)==" ")a=a.substring(1,a.length);if(a.indexOf(c)==0)return a.substring(c.length,a.length)}return null};return{Init:function(b,a){return n(b,a)}}};return{getInstance:function(){if(!a)a=new b(c);return a}}}(IwAG.$||jQuery)