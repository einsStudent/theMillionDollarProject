/*! Picturefill - v2.2.0-beta - 2014-10-30
* http://scottjehl.github.io/picturefill
* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
window.matchMedia||(window.matchMedia=function(){"use strict";var b=window.styleMedia||window.media;if(!b){var a=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;a.type="text/css";a.id="matchmediajs-test";c.parentNode.insertBefore(a,c);d="getComputedStyle"in window&&window.getComputedStyle(a,null)||a.currentStyle;b={matchMedium:function(c){var b="@media "+c+"{ #matchmediajs-test { width: 1px; } }";if(a.styleSheet)a.styleSheet.cssText=b;else a.textContent=b;return d.width==="1px"}}}return function(a){return{matches:b.matchMedium(a||"all"),media:a||"all"}}}());
/*! Picturefill - Responsive Images that work today.
*  Author: Scott Jehl, Filament Group, 2012 ( new proposal implemented by Shawn Jansepar )
*  License: MIT/GPLv2
*  Spec: http://picture.responsiveimages.org/
*/
(function(b,d,e){"use strict";if(b.HTMLPictureElement){b.picturefill=function(){};return}d.createElement("picture");var a={};a.ns="picturefill";(function(){a.srcsetSupported="srcset"in e;a.sizesSupported="sizes"in e})();a.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")};a.endsWith=function(a,b){return a.endsWith?a.endsWith(b):a.indexOf(b,a.length-b.length)!==-1};a.restrictsMixedContent=function(){return b.location.protocol==="https:"};a.matchesMedia=function(a){return b.matchMedia&&b.matchMedia(a).matches};a.getDpr=function(){return b.devicePixelRatio||1};a.getWidthFromLength=function(b){b=b&&b.indexOf("%")>-1===false&&(parseFloat(b)>0||b.indexOf("calc(")>-1)?b:"100vw";b=b.replace("vw","%");if(!a.lengthEl){a.lengthEl=d.createElement("div");a.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden"}a.lengthEl.style.width=b;d.body.appendChild(a.lengthEl);a.lengthEl.className="helper-from-picturefill-js";if(a.lengthEl.offsetWidth<=0)a.lengthEl.style.width=d.documentElement.offsetWidth+"px";var c=a.lengthEl.offsetWidth;d.body.removeChild(a.lengthEl);return c};a.types={};a.types["image/jpeg"]=true;a.types["image/gif"]=true;a.types["image/png"]=true;a.types["image/svg+xml"]=d.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1");a.types["image/webp"]=function(){var b="image/webp";e.onerror=function(){a.types[b]=false;c()};e.onload=function(){a.types[b]=e.width===1;c()};e.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="};a.verifyTypeSupport=function(c){var b=c.getAttribute("type");if(b===null||b==="")return true;else if(typeof a.types[b]==="function"){a.types[b]();return"pending"}else return a.types[b]};a.parseSize=function(b){var a=/(\([^)]+\))?\s*(.+)/g.exec(b);return{media:a&&a[1],length:a&&a[2]}};a.findWidthFromSourceSize=function(h){for(var c=a.trim(h).split(/\s*,\s*/),d,b=0,j=c.length;b<j;b++){var i=c[b],e=a.parseSize(i),f=e.length,g=e.media;if(!f)continue;if(!g||a.matchesMedia(g)){d=f;break}}return a.getWidthFromLength(d)};a.parseSrcset=function(a){var f=[];while(a!==""){a=a.replace(/^\s+/g,"");var e=a.search(/\s/g),b,c=null;if(e!==-1){b=a.slice(0,e);var g=b.slice(-1);if(g===","||b===""){b=b.replace(/,+$/,"");c=""}a=a.slice(e+1);if(c===null){var d=a.indexOf(",");if(d!==-1){c=a.slice(0,d);a=a.slice(d+1)}else{c=a;a=""}}}else{b=a;a=""}(b||c)&&f.push({url:b,descriptor:c})}return f};a.parseDescriptor=function(i,k){var l=k||"100vw",h=i&&i.replace(/(^\s+|\s+$)/g,""),j=a.findWidthFromSourceSize(l),c;if(h)for(var g=h.split(" "),f=g.length-1;f>=0;f--){var b=g[f],d=b&&b.slice(b.length-1);if((d==="h"||d==="w")&&!a.sizesSupported)c=parseFloat(parseInt(b,10)/j);else if(d==="x"){var e=b&&parseFloat(b,10);c=e&&!isNaN(e)?e:1}}return c||1};a.getCandidatesFromSourceSet=function(f,g){for(var d=a.parseSrcset(f),c=[],b=0,h=d.length;b<h;b++){var e=d[b];c.push({url:e.url,resolution:a.parseDescriptor(e.descriptor,g)})}return c};a.dodgeSrcset=function(b){if(b.srcset){b[a.ns].srcset=b.srcset;b.removeAttribute("srcset")}};a.processSourceSet=function(b){var c=b.getAttribute("srcset"),e=b.getAttribute("sizes"),d=[];if(b.nodeName.toUpperCase()==="IMG"&&b[a.ns]&&b[a.ns].srcset)c=b[a.ns].srcset;if(c)d=a.getCandidatesFromSourceSet(c,e);return d};a.applyBestCandidate=function(d,c){var f,g,b;d.sort(a.ascendingSort);g=d.length;b=d[g-1];for(var h=0;h<g;h++){f=d[h];if(f.resolution>=a.getDpr()){b=f;break}}if(b&&!a.endsWith(c.src,b.url))if(a.restrictsMixedContent()&&b.url.substr(0,"http:".length).toLowerCase()==="http:")typeof console!==undefined&&console.warn("Blocked mixed content image "+b.url);else{c.src=b.url;c.currentSrc=c.src;var e=c.style||{},i="webkitBackfaceVisibility"in e,j=e.zoom;if(i){e.zoom=".999";i=c.offsetWidth;e.zoom=j}}};a.ascendingSort=function(a,b){return a.resolution-b.resolution};a.removeVideoShim=function(c){var d=c.getElementsByTagName("video");if(d.length){var a=d[0],b=a.getElementsByTagName("source");while(b.length)c.insertBefore(b[0],a);a.parentNode.removeChild(a)}};a.getAllElements=function(){for(var e=[],f=d.getElementsByTagName("img"),c=0,g=f.length;c<g;c++){var b=f[c];(b.parentNode.nodeName.toUpperCase()==="PICTURE"||b.getAttribute("srcset")!==null||b[a.ns]&&b[a.ns].srcset!==null)&&e.push(b)}return e};a.getMatch=function(j,h){for(var f=h.childNodes,c,d=0,i=f.length;d<i;d++){var b=f[d];if(b.nodeType!==1)continue;if(b===j)return c;if(b.nodeName.toUpperCase()!=="SOURCE")continue;b.getAttribute("src")!==null&&typeof console!==undefined&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var g=b.getAttribute("media");if(!b.getAttribute("srcset"))continue;if(!g||a.matchesMedia(g)){var e=a.verifyTypeSupport(b);if(e===true){c=b;break}else if(e==="pending")return false}}return c};function c(j){var f,b,e,c,d,h=j||{};f=h.elements||a.getAllElements();for(var g=0,i=f.length;g<i;g++){b=f[g];e=b.parentNode;c=undefined;d=undefined;if(b.nodeName.toUpperCase()!=="IMG")continue;if(!b[a.ns])b[a.ns]={};if(!h.reevaluate&&b[a.ns].evaluated)continue;if(e.nodeName.toUpperCase()==="PICTURE"){a.removeVideoShim(e);c=a.getMatch(b,e);if(c===false)continue}else c=undefined;(e.nodeName.toUpperCase()==="PICTURE"||b.srcset&&!a.srcsetSupported||!a.sizesSupported&&b.srcset&&b.srcset.indexOf("w")>-1)&&a.dodgeSrcset(b);if(c){d=a.processSourceSet(c);a.applyBestCandidate(d,b)}else{d=a.processSourceSet(b);(b.srcset===undefined||b[a.ns].srcset)&&a.applyBestCandidate(d,b)}b[a.ns].evaluated=true}}function f(){c();var e=setInterval(function(){c();if(/^loaded|^i|^c/.test(d.readyState)){clearInterval(e);return}},250);function a(){var a;if(!b._picturefillWorking){b._picturefillWorking=true;b.clearTimeout(a);a=b.setTimeout(function(){c({reevaluate:true});b._picturefillWorking=false},60)}}if(b.addEventListener)b.addEventListener("resize",a,false);else b.attachEvent&&b.attachEvent("onresize",a)}f();c._=a;if(typeof module==="object"&&typeof module.exports==="object")module.exports=c;else if(typeof define==="function"&&define.amd)define(function(){return c});else if(typeof b==="object")b.picturefill=c})(this,this.document,new this.Image)